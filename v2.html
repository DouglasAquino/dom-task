<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manipulação do DOM</title>
    <script>
        var tarefas = [
            {
                id: 1,
                titulo: "Tomar água",
                dataDeTermino: new Date(2021, 7, 14),
                estahConcluida: false,
            },

            {
                id: 2,
                titulo: "Escrever a introdução do TCC",
                dataDeTermino: new Date(2021, 7, 29),
                estahConcluida: false,
            },

            {
                id: 3,
                titulo: "Chorar no banho",
                dataDeTermino: new Date(2021, 7, 30),
                estahConcluida: false,
            },
           
        ];

        function diferencaEntreDatas(d1, d2){
            var f = 1000 * 60 * 60 * 24;
            var dif = d1 - d2;
            dif = Math.round(dif/f);
            return dif;
        }

        function apresentarTarefas() {
            var ul = document.getElementById('ulTarefas');
            
            var atual = new Date();
            for (var tarefa of tarefas){
                var li = document.createElement('li');
                var diferenca = diferencaEntreDatas(tarefa.dataDeTermino, new Date())
                li.innerHTML = `<strong>${tarefa.titulo}</strong>` + ' - '
                + `<em>Termina em ${diferenca}</em>`;
                ul.appendChild(li);
            }
        }
        function documentLoad() {
            apresentarTarefas();
        }

        document.addEventListener('DOMContentLoaded', documentLoad)

    </script>
</head>
<body>
    <div id="app">
        <h1 id="title">Gerenciador de Tarefas</h1>
        <h4 id="subtitle">Demonstração de recursos de manipulação do DOM com JavaScript</h4>
        <hr>
        <ul id="ulTarefas"></ul>
    </div>
    
</body>
</html>